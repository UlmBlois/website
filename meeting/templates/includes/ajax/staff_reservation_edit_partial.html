<form method="post" action="{% url 'staff_edit_reservation' reservation.pk %}" class="js-staff-update-reservation-form">
  {% csrf_token %}
  <div class="modal-header">
    <h4 class="modal-title">Update Reservation</h4>
    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <div class="modal-body">
    {% load widget_tweaks %}
    {% if form.non_field_errors %}
      <div class="card bg-danger">
        {% for error in form.non_field_errors %}
          {{ error }}
        {% endfor %}
      </div>
    {% endif %}

    {% for hidden_field in form.hidden_fields %}
      {{ hidden_field }}
    {% endfor %}

    <div class="row">
      <div class="col-sm">
        <fieldset>
          <legend>Pilot</legend>

          <div class="form-group{% if form.first_name.errors %} is-invalid{% endif %}">
            <label for="{{ form.first_name.id_for_label }}">{{ form.first_name.label }}</label>
            {% render_field form.first_name class="form-control" %}
            {% for error in form.first_name.errors %}
              <p class="help-block">{{ form.first_name.error }}</p>
            {% endfor %}
            <small class="form-text text-danger">
              {% if form.first_name.help_text %}
                {{ form.first_name.help_text }}
              {% endif %}
            </small>
          </div>

          <div class="form-group{% if form.last_name.errors %} is-invalid{% endif %}">
            <label for="{{ form.last_name.id_for_label }}">{{ form.last_name.label }}</label>
            {% render_field form.last_name class="form-control" %}
            {% for error in form.last_name.errors %}
              <p class="form-text text-danger">{{ form.last_name.error }}</p>
            {% endfor %}
            <small class="form-text text-muted">
              {% if form.last_name.help_text %}
                {{ form.last_name.help_text }}
              {% endif %}
            </small>
          </div>

          <div class="form-group{% if form.email.errors %} is-invalid{% endif %}">
            <label for="{{ form.email.id_for_label }}">{{ form.email.label }}</label>
            {% render_field form.email class="form-control" %}
            {% for error in form.email.errors %}
              <p class="form-text text-danger">{{ form.email.error }}</p>
            {% endfor %}
            <small class="form-text text-muted">
              {% if form.email.help_text %}
                {{ form.email.help_text }}
              {% endif %}
            </small>
          </div>

          <div class="form-group{% if form.insurance_number.errors %} is-invalid{% endif %}">
            <label for="{{ form.insurance_number.id_for_label }}">{{ form.insurance_number.label }}</label>
            {% render_field form.insurance_number class="form-control" %}
            {% for error in form.insurance_number.errors %}
              <p class="form-text text-danger">{{ form.insurance_number.error }}</p>
            {% endfor %}
            <small class="form-text text-muted">
              {% if form.insurance_number.help_text %}
                {{ form.insurance_number.help_text }}
              {% endif %}
            </small>
          </div>

          <div class="form-group{% if form.licence_number.errors %} is-invalid{% endif %}">
            <label for="{{ form.licence_number.id_for_label }}">{{ form.licence_number.label }}</label>
            {% render_field form.licence_number class="form-control" %}
            {% for error in form.licence_number.errors %}
              <p class="form-text text-danger">{{ form.licence_number.error }}</p>
            {% endfor %}
            <small class="form-text text-muted">
              {% if form.licence_number.help_text %}
                {{ form.licence_number.help_text }}
              {% endif %}
            </small>
          </div>

        </fieldset>
      </div>

      <div class="col-sm">
        <fieldset>
          <legend>Reservation</legend>

          <div class="form-group{% if form.time_slot.errors %} is-invalid{% endif %}">
            <label for="{{ form.time_slot.id_for_label }}">{{ form.time_slot.label }}</label>
            {% render_field form.time_slot class="form-control" %}
            {% for error in form.time_slot.errors %}
              <p class="form-text text-danger">{{ form.time_slot.error }}</p>
            {% endfor %}
            <small class="form-text text-muted">
              {% if form.time_slot.help_text %}
                {{ form.time_slot.help_text }}
              {% endif %}
            </small>
          </div>

          <div class="form-check form-check-inline {% if form.passanger.errors %} is-invalid{% endif %}">
            {% render_field form.passanger class="form-check-input" %}
            <label for="{{ form.passanger.id_for_label }}" class="form-check-label">{{ form.passanger.label }}</label>
          </div>
          <div class="form-check form-check-inline {% if form.flight_plan.errors %} is-invalid{% endif %}">
            {% render_field form.flight_plan class="form-check-input" %}
            <label for="{{ form.flight_plan.id_for_label }}" class="form-check-label">{{ form.flight_plan.label }}</label>
          </div>
          <div class="form-check form-check-inline {% if form.esthetic_cup.errors %} is-invalid{% endif %}">
            {% render_field form.esthetic_cup class="form-check-input" %}
            <label for="{{ form.esthetic_cup.id_for_label }}" class="form-check-label">{{ form.esthetic_cup.label }}</label>
          </div>
          <div class="form-check form-check-inline {% if form.to_sell.errors %} is-invalid{% endif %}">
            {% render_field form.to_sell class="form-check-input" %}
            <label for="{{ form.to_sell.id_for_label }}" class="form-check-label">{{ form.to_sell.label }}</label>
          </div>

          <div class="form-group{% if form.ulm.errors %} is-invalid{% endif %}">
            <label for="{{ form.ulm.id_for_label }}">{{ form.ulm.label }}</label>
            {% render_field form.ulm class="form-control" %}
            {% for error in form.ulm.errors %}
              <p class="form-text text-danger">{{ form.ulm.error }}</p>
            {% endfor %}
            <small class="form-text text-muted">
              {% if form.ulm.help_text %}
                {{ form.ulm.help_text }}
              {% endif %}
            </small>
          </div>

          <div id="add_ulm_btn">
          <button type="button"
            class="btn btn-default js-add-ulm"
            data-url="{% url 'ajax_add_ulm' reservation.pk %}"
            data-contener-id ="modal-add-ulm">Add Ulm</button>
          </div>

        </fieldset>

        <fieldset>
          <legend>ULM</legend>

          <div class="form-group{% if form.constructor.errors %} is-invalid{% endif %}">
            <label for="{{ form.constructor.id_for_label }}">{{ form.constructor.label }}</label>
            {% render_field form.constructor class="form-control" %}
            {% for error in form.constructor.errors %}
              <p class="form-text text-danger">{{ form.constructor.error }}</p>
            {% endfor %}
            <small class="form-text text-muted">
              {% if form.constructor.help_text %}
                {{ form.constructor.help_text }}
              {% endif %}
            </small>
          </div>

          <div class="form-group{% if form.model.errors %} is-invalid{% endif %}">
            <label for="{{ form.model.id_for_label }}">{{ form.model.label }}</label>
            {% render_field form.model class="form-control" %}
            {% for error in form.model.errors %}
              <p class="form-text text-danger">{{ form.model.error }}</p>
            {% endfor %}
            <small class="form-text text-muted">
              {% if form.model.help_text %}
                {{ form.model.help_text }}
              {% endif %}
            </small>
          </div>

          <div class="form-group{% if form.imatriculation_country.errors %} is-invalid{% endif %}">
            <label for="{{ form.imatriculation_country.id_for_label }}">{{ form.imatriculation_country.label }}</label>
            {% render_field form.imatriculation_country class="form-control" %}
            {% for error in form.imatriculation_country.errors %}
              <p class="form-text text-danger">{{ form.imatriculation_country.error }}</p>
            {% endfor %}
            <small class="form-text text-muted">
              {% if form.imatriculation_country.help_text %}
                {{ form.imatriculation_country.help_text }}
              {% endif %}
            </small>
          </div>

          <div class="form-group{% if form.imatriculation.errors %} is-invalid{% endif %}">
            <label for="{{ form.imatriculation.id_for_label }}">{{ form.imatriculation.label }}</label>
            {% render_field form.imatriculation class="form-control" %}
            {% for error in form.imatriculation.errors %}
              <p class="form-text text-danger">{{ form.imatriculation.error }}</p>
            {% endfor %}
            <small class="form-text text-muted">
              {% if form.imatriculation.help_text %}
                {{ form.imatriculation.help_text }}
              {% endif %}
            </small>
          </div>

          <div class="form-group{% if form.radio_id.errors %} is-invalid{% endif %}">
            <label for="{{ form.radio_id.id_for_label }}">{{ form.radio_id.label }}</label>
            {% render_field form.radio_id class="form-control" %}
            {% for error in form.radio_id.errors %}
              <p class="form-text text-danger">{{ form.radio_id.error }}</p>
            {% endfor %}
            <small class="form-text text-muted">
              {% if form.radio_id.help_text %}
                {{ form.radio_id.help_text }}
              {% endif %}
            </small>
          </div>

        </fieldset>
      </div>
    </div>

  </div>
  <div class="modal-footer">
    <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
    <button type="submit" class="btn btn-primary">Update Reservation</button>
  </div>
</form>

<div class="modal fade" id="modal-add-ulm">
    <div class="modal-dialog">
      <div class="modal-content">

      </div>
    </div>
</div>
{% load static %}
{% block javascript%}
<script src="{% static 'js/ajax_reservation.js' %}"></script>
{% endblock %}
